<div class="container mt-4">
    <h2 class="mb-3 text-center">Listado de Funciones</h2>

    <form [formGroup]="filtroForm" class="row align-items-end mb-4 justify-content-center">
    <div class="col-md-4">
      <label for="fechaFuncion" class="form-label">
        Filtrar Funciones:
      </label>
      <input
        type="date"
        id="fechaFuncion"
        class="form-control"
        formControlName="fechaFuncion"
        placeholder="Ingrese fecha de la función"
      />
    </div>

    <div class="col-md-2">
      <button type="button" class="btn btn-secondary w-100" (click)="filtrarFunciones()">
        <i class="bi bi-filter-circle"></i> Filtrar
      </button>
    </div>

    <div class="col-md-2">
      <button type="button" class="btn btn-danger w-100 btn-limpiar" (click)="limpiarFiltros()">
        <i class="bi bi-x-circle"></i> Limpiar
      </button>
    </div>

    <div class="col-md-3">
      <button type="button" class="btn btn-primary w-100" (click)="irAregistrarFuncion()">
        <i class="bi bi-plus-circle"></i> Agregar Función
      </button>
    </div>
  </form>
  
  <div class="cards-container">
    <div class="card-item" *ngFor="let funcion of funciones">
      <div class="card shadow-sm">
        <img src="assets/imgs/funciones.webp" class="componenteImg" alt="Imagen de función" />
        <div class="card-body">
          <h5 class="card-title">ID: {{ funcion.idFuncion }}</h5>
          <p class="card-text">Fecha: {{ funcion.fechaFuncion }}</p>
          <p class="card-text">Película: {{ funcion.objPelicula.nombrepelicula }}</p>
          <p class="card-text">Sala: {{ funcion.objSala.codsala }}</p>

          <div class="d-flex justify-content-between">
            <button class="btn btn-info" (click)="irAactualizarFuncion(funcion.idFuncion)">
              <i class="bi bi-pencil-square"></i> Actualizar
            </button>
            <button class="btn btn-danger" (click)="abrirDialogEliminar(funcion.idFuncion)">
              <i class="bi bi-trash"></i> Eliminar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>